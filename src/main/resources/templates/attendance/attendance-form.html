<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{base :: layout(~{::section})}">
<body>
<section>
  <div class="d-flex align-items-center mb-3">
    <h2 class="fw-bold me-auto">근태 등록</h2>
    <a class="btn btn-sm btn-outline-secondary" th:href="@{/attendance}">목록으로</a>
  </div>

  <div class="card p-4 shadow-sm" style="max-width: 900px;">
    <form method="post" th:action="@{/attendance/save}" th:object="${attendance}">
      <input type="hidden" th:field="*{attendanceId}">

      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">직원</label>
          <select class="form-select" th:field="*{employeeId}" required>
            <option value="">선택</option>
            <option th:each="e : ${employees}" th:value="${e.employeeId}"
                    th:text="${e.employeeId + ' - ' + e.name}"></option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">근무일</label>
          <input type="date" class="form-control" th:field="*{workDate}" required>
        </div>

        <div class="col-md-6">
          <label class="form-label">출근 시간</label>
          <input type="time" class="form-control" th:field="*{checkInTime}">
        </div>

        <div class="col-md-6">
          <label class="form-label">퇴근 시간</label>
          <input type="time" class="form-control" th:field="*{checkOutTime}">
        </div>

        <div class="col-md-6">
          <label class="form-label">상태</label>
          <select class="form-select" th:field="*{status}">
			<option th:each="s : ${statuses}"
			        th:value="${s}"
			        th:text="${s.name() == 'NORMAL' ? '출근' :
			                 s.name() == 'LATE' ? '지각' :
			                 s.name() == 'ABSENT' ? '결근' :
			                 s.name() == 'ANNUAL' ? '연차' :
			                 s.name() == 'SICK' ? '병가' :
			                 s.name() == 'BUSINESS' ? '출장' : s.name()}">
			</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">초과근무 분</label>
          <input type="number" class="form-control" th:field="*{overtimeMinutes}" min="0">
        </div>

        <div class="col-12">
          <label class="form-label">비고</label>
          <input type="text" class="form-control" th:field="*{note}">
        </div>
      </div>

      <div class="mt-4 d-flex gap-2">
        <button type="submit" class="btn btn-primary">저장</button>
        <a class="btn btn-outline-secondary" th:href="@{/attendance}">취소</a>
      </div>
    </form>
  </div>
</section>
</body>
</html>
