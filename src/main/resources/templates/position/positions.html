<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{base :: layout(~{::section})}">
<body>
<section>
  <h2 class="fw-bold mb-3">직급 / 직책 관리</h2>

  <div class="row g-3">
    <!-- 직급 관리 -->
    <div class="col-12 col-xl-6">
      <div class="card p-3 shadow-sm" style="min-height:300px;">
        <div class="d-flex align-items-center mb-2">
          <h5 class="mb-0 fw-bold">직급 관리</h5>
          <a th:href="@{/ranks-form}" class="btn btn-primary btn-sm ms-auto">추가</a>
        </div>

        <table class="table table-sm align-middle mb-0">
          <thead>
          <tr>
			<th style="width:15%;">정렬</th>
            <th>직급명</th>
            <th style="width:15%;">사용</th>
            <th style="width:20%;">액션</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="p : ${ranks}">
			<td th:text="${p.sortOrder}">1</td>
            <td th:text="${p.name}">사원</td>
            <td th:text="${p.useYn}">Y</td>
            <td>
              <a th:href="@{/ranks-form(id=${p.positionId})}"
                 class="btn btn-sm btn-outline-secondary">수정</a>
              <form th:action="@{/positions/delete(id=${p.positionId})}"
                    method="post" class="d-inline">
                <button type="submit" class="btn btn-sm btn-outline-danger"
                        onclick="return confirm('삭제하시겠습니까?');">
                  삭제
                </button>
              </form>
            </td>
          </tr>
          <tr th:if="${#lists.isEmpty(ranks)}">
            <td colspan="5" class="text-center text-muted py-3">
              등록된 직급이 없습니다.
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- 직책 관리 -->
    <div class="col-12 col-xl-6">
      <div class="card p-3 shadow-sm" style="min-height:300px;">
        <div class="d-flex align-items-center mb-2">
          <h5 class="mb-0 fw-bold">직책 관리</h5>
          <a th:href="@{/titles-form}" class="btn btn-primary btn-sm ms-auto">추가</a>
        </div>

        <table class="table table-sm align-middle mb-0">
          <thead>
          <tr>
			<th style="width:15%;">정렬</th>
            <th>직책명</th>
            <th style="width:15%;">사용</th>
            <th style="width:20%;">액션</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="p : ${titles}">
			<td th:text="${p.sortOrder}">1</td>
            <td th:text="${p.name}">팀장</td>
            <td th:text="${p.useYn}">Y</td>
            <td>
              <a th:href="@{/titles-form(id=${p.positionId})}"
                 class="btn btn-sm btn-outline-secondary">수정</a>
              <form th:action="@{/positions/delete(id=${p.positionId})}"
                    method="post" class="d-inline">
                <button type="submit" class="btn btn-sm btn-outline-danger"
                        onclick="return confirm('삭제하시겠습니까?');">
                  삭제
                </button>
              </form>
            </td>
          </tr>
          <tr th:if="${#lists.isEmpty(titles)}">
            <td colspan="5" class="text-center text-muted py-3">
              등록된 직책이 없습니다.
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</section>
</body>
</html>
