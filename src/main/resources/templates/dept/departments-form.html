<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{base :: layout(~{::section})}">
<body>
<section class="d-flex justify-content-left">
  <div class="w-100" style="max-width: 600px;">

    <div class="d-flex align-items-center mb-3">
      <h2 class="fw-bold me-auto">부서 추가 / 수정</h2>
      <a th:href="@{/departments}" class="btn btn-outline-secondary btn-sm">목록으로</a>
    </div>

    <div class="card p-4 shadow-sm">
      <form th:action="@{/departments/save}" th:object="${department}" method="post" class="row g-3">
      <input type="hidden" th:field="*{deptId}" />

        <!-- 부서명 -->
        <div class="col-12">
          <label class="form-label">부서명</label>
          <input type="text" class="form-control form-control-sm"
                 th:field="*{name}" placeholder="예: 영업팀" required>
        </div>

        <!-- 상위부서 -->
        <div class="col-12">
          <label class="form-label">상위부서</label>
          <select class="form-select form-select-sm" th:field="*{parentId}">
            <option th:value="${null}">상위 부서 없음</option>
            <option th:each="p : ${parentOptions}"
                    th:value="${p.deptId}"
                    th:text="${p.name}"></option>
          </select>
        </div>

        <!-- 버튼 -->
        <div class="col-12 text-end mt-3">
          <a th:href="@{/departments}" class="btn btn-secondary btn-sm">취소</a>
          <button type="submit" class="btn btn-primary btn-sm">저장</button>
        </div>

      </form>
    </div>

  </div>
</section>
</body>
</html>
