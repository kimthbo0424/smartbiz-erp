<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="ko"
      th:replace="~{base :: layout(~{::section})}">
<section>

  <div class="d-flex align-items-center mb-3">
    <div>
      <h2 class="fw-bold mb-0">전표 상세</h2>
      <div class="text-muted small">
        전표번호: <span class="fw-semibold" th:text="${journal.journalNo}">JV-000001</span>
      </div>
    </div>
    <div class="ms-auto">
      <a class="btn btn-outline-secondary" th:href="@{/accounting(tab='journal')}">회계관리로</a>
    </div>
  </div>

  <div class="mb-3">
    <span class="badge" th:classappend="${journal.badgeClass}" th:text="${journal.statusLabel}">임시</span>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <div class="row g-2">
        <div class="col-md-3">
          <div class="text-muted small">전표일자</div>
          <div class="fw-semibold" th:text="${journal.entryDate}">2025-11-12</div>
        </div>
        <div class="col-md-9">
          <div class="text-muted small">설명</div>
          <div class="fw-semibold" th:text="${journal.description}">설명</div>
        </div>
      </div>

      <hr>

      <div class="row g-2">
        <div class="col-md-6">
          <div class="text-muted small">차변합</div>
          <div class="fw-bold" th:text="'₩' + ${#numbers.formatInteger(journal.debitTotal, 3, 'COMMA')}">₩0</div>
        </div>
        <div class="col-md-6">
          <div class="text-muted small">대변합</div>
          <div class="fw-bold" th:text="'₩' + ${#numbers.formatInteger(journal.creditTotal, 3, 'COMMA')}">₩0</div>
        </div>
      </div>
    </div>
  </div>

  <div class="table-responsive card">
    <table class="table table-sm align-middle mb-0">
      <thead>
      <tr>
        <th>계정과목</th>
        <th style="width:160px;">차변</th>
        <th style="width:160px;">대변</th>
        <th>설명</th>
      </tr>
      </thead>
      <tbody>
      <tr th:if="${#lists.isEmpty(journal.lines)}">
        <td colspan="4" class="text-center text-muted py-4">라인이 없습니다.</td>
      </tr>
      <tr th:each="l : ${journal.lines}">
        <td th:text="${l.accountName}">현금</td>
        <td th:text="'₩' + ${#numbers.formatInteger(l.debit, 3, 'COMMA')}">₩0</td>
        <td th:text="'₩' + ${#numbers.formatInteger(l.credit, 3, 'COMMA')}">₩0</td>
        <td th:text="${l.description}">설명</td>
      </tr>
      </tbody>
    </table>
  </div>

</section>
</html>
